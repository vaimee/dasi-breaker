# MVP schema
![MVP](imgs/DasiBreakerMVP.png)

# MVP description

The MVP is based on the MONAS real use case.[MVP - MONAS (Monitoring and Analysis System)](./usecase.md)

The MVP is composed of 3 main parts:
* The NSGI side, managed by the RDF SCORPIO version
* The SOLID side, managed by the Comunity Solid server
* The SEPA as a tecnology bridge

The prototype scenario starts from the ControlUnitSimulator, which is a JSON-LD producer, it updates the entity's status simulating the real use case.
The sensor observation status, generated by the ControlUnitSimulator is converted by SCORPIO into RDF quads and the through SEPA stored in the Blazegraph RDF store.
Meanwhile, the MetaManager and HistoryKeeper aggregators are subscripted on SEPA.
The MetaManager will generate the meta information, that allows SOLID to access new data.
The HistoryKeeper will store in a specific graph the entity changes to keep its history.
The Comunity Solid server is able to interrogate the SEPA to get all the information about the entities, it manages the access too, as our identity provider.
In order to grant easier access to the data at the end-users a front-end is present, that is a Solid application, and gets the MONAS data in real-time from Solid. 

# SOLID 
We are fully supporting the solid protocol. We choose to deploy a modified verision of the Community Server implementation avaible here: https://github.com/solid/community-server .
As you can see is the official implementation of the SOLID protocol and we actively contributed to its development. In particular, we sent 3 PR to adapt it to our needs: https://github.com/solid/community-server/pulls?q=author%3Aiosonopersia+
The first PR was rebased and merged in https://github.com/solid/community-server/pull/923, the second improved the understain of issue https://github.com/solid/community-server/issues/471 but it was not merged due to a design flaw of the system, finally
the third PR was merged right away. You can find more information in the discussion thread on Github.

# NGSI
We create an extension of SCORPIO NGSI-LD compliant context broker, in order to store the JSON-LD information in RDF format.
In particular, our RDF SCORPIO version can convert the JSON-LD using the Titanium library and then store it through SEPA.
Based on the DAO pattern we implemented the SPARQL queries and updates generator in order to cover all the NGSI-LD API supported by SCORPIO.

Here the [NGSI-LD_TestSuite](https://github.com/FIWARE/NGSI-LD_TestSuite) results:

[NGSI-LD_TestSuite full results list](reports/SCORPIO_test.md)

Summary:

![Results](imgs/TestSuite.png)

